@page "/"
@using WordsCombiner.Shared
@using WordsCombiner.Shared.Model
@inject HttpClient Http

<PageTitle>WordCominer</PageTitle>

<div id="goilv">
    <h2>生成元の単語の設定</h2>
</div>
<div class="options">
    <div id="language">
        <h3>言語</h3>
    </div>
    <div id="language_option">
        <!-- 言語選択 -->
	    <form>
		    <label>
			    <input type="radio" name="language" value="japanese" checked>
			    日本語
		    </label>
		    <label>
			    <input type="radio" name="language" value="english">
			    English
		    </label>
	    </form>
        <br />
    </div>
</div>

@if (japaneseWords == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>単語</th>
                <th>品詞</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var japaneseWord in japaneseWords)
            {
                var partOfSpeech = (PartOfSpeech)japaneseWord.PartOfSpeech;

                <tr>
                    <td>@japaneseWord.Value</td>
                    <td>@partOfSpeech</td>
                </tr>
            }
        </tbody>
    </table>
}

@code {
    private JapaneseWord[]? japaneseWords;

    protected override async Task OnInitializedAsync()
    {
        japaneseWords = await Http.GetFromJsonAsync<JapaneseWord[]>("api/Words");
    }
}
