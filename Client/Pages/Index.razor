@page "/"
@using WordsCombiner.Shared
@using WordsCombiner.Shared.Model
@inject HttpClient Http

<PageTitle>WordCominer</PageTitle>

<div id="goilv">
    <h2>生成元の単語の設定</h2>
</div>
<div class="options">
    <div id="language">
        <h3>言語</h3>
    </div>
    <div id="language_option">
        <!-- 言語選択 -->
	    <form>
		    <label>
			    <input type="radio" name="language" value="japanese" checked>
			    日本語
		    </label>
		    <label>
			    <input type="radio" name="language" value="english">
			    English
		    </label>
	    </form>
        <br />
    </div>
</div>

@if (words == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>単語</th>
                <th>品詞</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var word in words)
            {
                var partOfSpeech = (PartOfSpeech)word.PartOfSpeech;

                <tr>
                    <td>@word.Id</td>
                    <td>@word.Value</td>
                    <td>@partOfSpeech</td>
                </tr>
            }
        </tbody>
    </table>
}

@code {
    private Word[]?  words;

    protected override async Task OnInitializedAsync()
    {
        words = await Http.GetFromJsonAsync<Word[]>("api/Words");
    }
}